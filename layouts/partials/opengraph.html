{{ $title       :=  (index site.Data site.Language.Lang).site.openGraph.title | default site.Title }}
{{ $type        :=  (index site.Data site.Language.Lang).site.openGraph.type | default "website" }}
{{ $description :=  (index site.Data site.Language.Lang).site.openGraph.description | default  (index site.Data site.Language.Lang).site.description }}
{{ $image       :=  (index site.Data site.Language.Lang).site.openGraph.image | default  (index site.Data site.Language.Lang).author.image }}
{{ $url         :=  (index site.Data site.Language.Lang).site.openGraph.url | default site.BaseURL }}

{{/* Processo l'immagine per renderla compatibile con Whatsapp: max 256x256 - 300kb; uso newSctrach per portare il link fuori dal Range */ -}}
{{ $image := .Resources.GetMatch ( printf "%s" ( (index site.Data site.Language.Lang).site.openGraph.image | default  (index site.Data site.Language.Lang).author.image ) ) -}}
{{ $data := newScratch -}}
    
{{ with $image -}}
    {{ $cover_thumbnail := $image.Resize "1080x q90" -}}
    {{ $data.Set "cover_thumbnail_link" $cover_thumbnail.Permalink -}}
{{ end -}}

{{/* Guida: https://www.skcript.com/svr/perfect-seo-meta-tags-with-hugo/ */ -}}

{{ $img := ( ( ( printf "%s" ( $data.Get "cover_thumbnail_link" ) ) ) ) -}}

<!-- ============ open graph tags ========== -->
<meta property="og:title" content="{{ $title }}"/>
<meta property="og:type" content="{{ $type }}"/>
<meta property="og:description" content="{{ $description }}"/>
<meta property="og:image" content="{{ $img }}">
<meta property="og:url" content="{{ $url }}">
